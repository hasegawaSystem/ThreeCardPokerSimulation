# ThreeCardPokerSimulation
スリーカードポーカーにおける最適な戦法を探るためのシミュレーションです。
実は試作品はいっぱいありますが、機能を最小限にまとめたものだけアップしてます。
あんまりぐちゃぐちゃになってもアレだし。

【poker2.py】
シミュレーション本体。これだけで動きます。
300行目あたりにmain関数があるので、それで動かします。
main関数の引数は(初期の所持金, 試行回数, 最低Bet額, 最大Bet額)です。
結果はpokerlist.csvに出力されてます。
左から順番に
プレイヤーの手札(強い順に3枚), ディーラーの手札(強い順に３枚), プレイヤー手札の強さ, ディーラー手札の強さ, 結果, 連勝数, 所持金の変化
を表しています。

【test.py】
poker.2内で使われている手札の強さを決める関数のテスト版です。
全く同じ内容ですが、本当に動きがあってるか心配になったときに確認用に作りました。

-- 試した賭け方法と結果 --
実験方法:1000ゲーム目での初期金との差を求め、超えていたら勝ち、少なかったら負けとし、
これを1000回繰り返します。これを5セット。(1000*1000*5回)
これにより「1000回中これくらいの確立で勝てるよ」ってのを確立を収束させた結果から求めます。

1.マーチンゲール法
最小ベットを基本とし、負けたら倍を賭ける。勝ったら最小ベットに戻す。
これを繰り返すことで負けのリスクを極力回避し、最小限の利益をかすめ取り続ける方法です。
実際には賭け額の上限が決まってるゲームが多く、やってはいけない方法と言われています。
結果:
6割程度の確率で勝つことができます。(下限10$, 上限5000$の場合)
マジ？5割を超えているなら勝負としてはお得すぎます。
将来本当に困ったときはこれで稼ごうかな...。

2.連勝法
Rにマーチンゲームの結果を読み込ませて、統計的にどのパラメータの影響が強いか調べた結果、どうやら連勝数が最も勝敗に影響を与えていたっぽいです。(誤解かもしれない)
そのため、連勝数に注目した独自のかけ方になります。
調べてみたけど連勝数をメインに注目する賭け方はいまのところ手法として存在していないみたいです。
ばか過ぎる賭け方だからかもしれない。
実際に結果やばかったし。
具体的な手法としては、負けているときは最小ベットのみ、前回勝ったら一気に最大まで賭ける方法です。
結果:
8割近い確率で負けます。ばか。

3.マーチンゲール&連勝法
マーチンゲール法を活用して負け額を最小にしつつ、連勝法で勝った時の儲けを最大にする賭け方です。
これ思いついたときは勝ちを確信しました。
結果:
連勝法を超える確率で負けます。もうばか。結果としては最もやってはいけない方法でした。

考察:
連勝数を分析してみたところ、3連勝以上できる確率は25%程でした。
そりゃそんな低い確率目指して毎回最大まで賭けてたら負けますわ。
何連勝以上は最低ベット額に戻すってのも試してみたんですけど、そっちは割といい感じだったので、
連勝数に注目するってのは案外悪くないアプローチだったかもしれません。
まぁ結局安全な選択肢を取り続けるマーチンゲールが一番成績良かったんですけど。
やっぱギャンブルはしないに限りますね。
一次的にお金もらえて嬉しいくらいの気持ちでいましょう。
